var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n;import{r as l,o as s,c as p,b as d,J as u,w as g,K as c,u as m,M as h,p as b,a as y,L as f,G as z,N as C,m as v}from"./vendor.9d7c8355.js";import{u as P}from"./userModel.8f5c343d.js";import"./index.940c26b9.js";const S={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:()=>[10,20,30,50]},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},emits:["update:page","update:limit","pagination"],computed:{currentPage:{get(){return this.page},set(e){this.$emit("update:page",e)}},pageSize:{get(){return this.limit},set(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange(e){this.$emit("pagination",{page:this.currentPage,limit:e})},handleCurrentChange(e){this.$emit("pagination",{page:e,limit:this.pageSize})}}},j=g()(((e,t,a,n,i,r)=>{const o=l("el-pagination");return s(),p("div",{class:[{hidden:a.hidden},"pagination-container"]},[d(o,u({background:a.background,"current-page":r.currentPage,"onUpdate:current-page":t[1]||(t[1]=e=>r.currentPage=e),"page-size":r.pageSize,"onUpdate:page-size":t[2]||(t[2]=e=>r.pageSize=e),layout:a.layout,"page-sizes":a.pageSizes,total:a.total},e.$attrs,{onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange}),null,16,["background","current-page","page-size","layout","page-sizes","total","onSizeChange","onCurrentChange"])],2)}));S.render=j,S.__scopeId="data-v-ec7e53f4";const _={name:"UserList",components:{Pagination:S},setup(){const e=m(),{state:l,getList:s,delItem:p}=P();return d=((e,t)=>{for(var a in t||(t={}))i.call(t,a)&&o(e,a,t[a]);if(n)for(var a of n(t))r.call(t,a)&&o(e,a,t[a]);return e})({},c(l)),t(d,a({getList:s,handleEdit:function({row:t}){e.push({name:"userEdit",params:{id:t.id}})},handleDelete:function({row:e}){p(e.id).then((()=>{h.success("删除成功！")}))}}));var d}},k=g();b("data-v-318d986e");const w={class:"app-container"},O={class:"btn-container"},I=v("创建用户"),L=v("更新"),U=v("删除");y();const $=k(((e,t,a,n,i,r)=>{const o=l("el-button"),u=l("router-link"),g=l("el-table-column"),c=l("el-table"),m=l("pagination"),h=f("loading");return s(),p("div",w,[d("div",O,[d(u,{to:"/users/create"},{default:k((()=>[d(o,{type:"success",icon:"el-icon-edit"},{default:k((()=>[I])),_:1})])),_:1})]),z(d(c,{data:e.list,border:"",fit:"","highlight-current-row":"",style:{width:"100%"}},{default:k((()=>[d(g,{align:"center",label:"ID",prop:"id"}),d(g,{align:"center",label:"账户名",prop:"name"}),d(g,{align:"center",label:"年龄",prop:"age"}),d(g,{label:"操作",align:"center"},{default:k((e=>[d(o,{type:"primary",icon:"el-icon-edit",onClick:t=>n.handleEdit(e)},{default:k((()=>[L])),_:2},1032,["onClick"]),d(o,{type:"danger",icon:"el-icon-remove",onClick:t=>n.handleDelete(e)},{default:k((()=>[U])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),[[h,e.loading]]),z(d(m,{total:e.total,page:e.listQuery.page,"onUpdate:page":t[1]||(t[1]=t=>e.listQuery.page=t),limit:e.listQuery.limit,"onUpdate:limit":t[2]||(t[2]=t=>e.listQuery.limit=t),onPagination:n.getList},null,8,["total","page","limit","onPagination"]),[[C,e.total>0]])])}));_.render=$,_.__scopeId="data-v-318d986e";export default _;
